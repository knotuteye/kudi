const init=()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("service-worker.js").catch(e=>{e&&alert(e)}),fetch("https://prime.exchangerate-api.com/v5/4fff55994a5ddad27798dd80/latest/USD").then(e=>e.json()).then(e=>{let t=document.getElementsByTagName("select");for(const n in e.conversion_rates){let a=document.createElement("option");a.text=n,a.value=e.conversion_rates[n],t[0].appendChild(a),t[1].appendChild(a.cloneNode(!0))}t[1].selectedIndex=1;let n=new Date(1e3*e.time_last_update);document.getElementById("update-time").innerText+=` ${n.getDate()}\\${n.getMonth()}\\${n.getFullYear()}`}).catch(e=>document.getElementById("update-time").innerText="Sorry, you appear to be offline.")},convert=e=>{if(""!=document.getElementsByTagName("input")[0]||""!=document.getElementsByTagName("input")[1]){hideKeyboard();let t=document.getElementById(`input-${1==e.target.id.slice(-1)?2:1}`),n=document.getElementById(`select-${1==e.target.id.slice(-1)?2:1}`);try{t.value=(parseFloat(document.getElementById(`input-${e.target.id.slice(-1)}`).value)*(parseFloat(n.value)/parseFloat(document.getElementById(`select-${e.target.id.slice(-1)}`).value))).toFixed(4)}catch(e){}}},hideKeyboard=()=>{let e=document.createElement("input");e.setAttribute("type","text"),document.body.appendChild(e),setTimeout(function(){e.focus(),setTimeout(function(){e.setAttribute("style","display:none;")},50)},50)};